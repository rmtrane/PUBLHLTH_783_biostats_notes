made_up_life_exp_table <- made_up_life_exp %>%
group_by(county, experiment) %>%
summarise(n = n(),
`Average Age of Death` = mean(`Age of Death`),
`Average Age of Death 2` = mean(`Age of Death 2`))
made_up_life_exp_table <- made_up_life_exp %>%
group_by(county, experiment) %>%
summarise(n = n(),
`Average Age of Death` = mean(`Age of Death`))
made_up_life_exp_table
xaringan::inf_mr()
xaringan::inf_mr()
servr::daemon_list()
servr::daemon_stop(1)
servr::daemon_stop(2)
servr::daemon_list()
xaringan::inf_mr()
servr::daemon_list()''
servr::daemon_list()
servr::daemon_stop(3)
library(tidyverse)
library(viridis)
library(ggalt)
## Set theme for plots (only works when you load ggplot2, which can be done using library(ggplot2) OR with library(tidyverse))
theme_set(theme_bw())
scale_color_continuous <- function(...) scale_color_viridis_c(...)
scale_fill_continuous <- function(...) scale_fill_viridis_c(...)
scale_color_discrete <- function(...) scale_color_viridis_d(...)
scale_fill_discrete <- function(...) scale_fill_viridis_d(...)
framingham <- read_csv("../../data/Framingham/framingham.csv") %>%
rename(gender = male) %>%
mutate(gender = if_else(gender == 1, 'male', 'female'))
show <- read_csv("~/Documents/UW-Madison/PUBLHLTH783/labs/show_for_lab.csv")
samples <- tibble(Student = list.files("~/Documents/UW-Madison/PUBLHLTH783/labs/lab4/data/")) %>%
mutate(data = map(Student, ~readr::read_csv(paste("~/Documents/UW-Madison/PUBLHLTH783/labs/lab4/data", .x, sep = '/'))))
full_show <- read_csv('../../data/SHOW_subset_of_vars.csv')
full_show %>%
ggplot(aes(x = bmi)) +
geom_histogram(bins = 35,
aes(y = ..density..)) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(10)),
aes(color = 'n = 10')) +
geom_vline(xintercept = mean(full_show$bmi, na.rm = T),
color = 'red', linetype = 'dashed')
full_show %>%
filter(bmi < 159) %>%
ggplot(aes(x = bmi)) +
geom_histogram(aes(y = ..density..),
binwidth = 5) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(10)),
aes(color = 'n = 10')) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(50)),
aes(color = 'n = 50'))
full_show %>%
filter(bmi < 159) %>%
ggplot(aes(x = bmi)) +
geom_histogram(aes(y = ..density..),
binwidth = 5) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(10)),
aes(color = 'n = 10')) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(50)),
aes(color = 'n = 50')) +
geom_vline(xintercept = mean(full_show$bmi, na.rm = T),
color = 'red', linetype = 'dashed')
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(50)),
aes(color = 'n = 50')) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(100)),
aes(color = 'n = 100')) +
geom_vline(xintercept = mean(full_show$bmi, na.rm = T),
color = 'red', linetype = 'dashed')
full_show %>%
ggplot(aes(x = bmi)) +
geom_histogram(bins = 35,
aes(y = ..density..)) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(10)),
aes(color = 'n = 10'))  +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(50)),
aes(color = 'n = 50')) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(100)),
aes(color = 'n = 100')) +
geom_vline(xintercept = mean(full_show$bmi, na.rm = T),
color = 'red', linetype = 'dashed')
ggplot(data = tibble(x = 0:50, y = dbinom(x = 0:50, size = 50, prob = 0.106)),
aes(x = x, y = y)) +
geom_bar(stat='identity')
ggplot(data = tibble(x = 0:50, y = dbinom(x = 0:50, size = 50, prob = 0.106)),
aes(x = x, y = y)) +
geom_bar(stat='identity', width = 1)
ggplot(data = tibble(x = 0:5000, y = dbinom(x = 0:5000, size = 5000, prob = 0.106)),
aes(x = x, y = y)) +
geom_bar(stat='identity', width = 1)
depression_bmi <- show %>%
ggplot(aes(x = bmi, fill = depression)) +
geom_histogram(aes(y = ..density..)) +
geom_vline(data = show %>%
group_by(depression) %>%
summarise(mean_bmi = mean(bmi)),
aes(xintercept = mean_bmi),
color = 'red', linetype = 'dashed') +
facet_grid(depression~.) +
ggtitle("BMI distribution in full SHOW data")
depression_bmi
full_show %>%
ggplot(aes(x = bmi)) +
geom_histogram(aes(y = ..density..),
binwidth = 5) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(10)),
aes(color = 'n = 10')) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(50)),
aes(color = 'n = 50')) +
geom_vline(xintercept = mean(full_show$bmi, na.rm = T),
color = 'red', linetype = 'dashed')
full_show %>%
filter(bmi < 159) %>%
ggplot(aes(x = bmi)) +
geom_histogram(aes(y = ..density..),
binwidth = 5) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(10)),
aes(color = 'n = 10')) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(50)),
aes(color = 'n = 50')) +
geom_vline(xintercept = mean(full_show$bmi, na.rm = T),
color = 'red', linetype = 'dashed')
full_show %>%
filter(bmi < 159) %>%
ggplot(aes(x = bmi)) +
geom_histogram(aes(y = ..density..),
binwidth = 5) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(10)),
aes(color = 'n = 10')) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(50)),
aes(color = 'n = 50')) +
geom_vline(xintercept = mean(full_show$bmi, na.rm = T),
color = 'red', linetype = 'dashed')
full_show %>%
filter(bmi < 159) %>%
ggplot(aes(x = bmi)) +
geom_histogram(aes(y = ..density..),
binwidth = 5) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(10)),
aes(color = 'n = 10')) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(50)),
aes(color = 'n = 50')) +
geom_vline(xintercept = mean(full_show$bmi, na.rm = T),
color = 'red', linetype = 'dashed') +
scale_color_discrete()
samples %>%
mutate(mean = map(.x = data,
~.x %>% group_by(depression) %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>% print
samples %>%
mutate(mean = map(.x = data,
~.x %>% group_by(depression) %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>%
ggplot(aes(x = m)) +
geom_histogram(aes(y = ..density..),
binwidth = 5) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(50)),
aes(color = 'n = 50')) +
geom_vline(xintercept = mean(full_show$bmi, na.rm = T),
color = 'red', linetype = 'dashed') +
scale_color_discrete()
samples %>%
mutate(mean = map(.x = data,
~.x %>% group_by(depression) %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>%
ggplot(aes(x = m)) +
geom_histogram(aes(y = ..density..),
binwidth = 2) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(50)),
aes(color = 'n = 50')) +
geom_vline(xintercept = mean(full_show$bmi, na.rm = T),
color = 'red', linetype = 'dashed') +
scale_color_discrete()
samples %>%
mutate(mean = map(.x = data,
~.x %>% group_by(depression) %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>%
ggplot(aes(x = m)) +
geom_histogram(aes(y = ..density..),
binwidth = 1) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(50)),
aes(color = 'n = 50')) +
geom_vline(xintercept = mean(full_show$bmi, na.rm = T),
color = 'red', linetype = 'dashed') +
scale_color_discrete()
filter(full_show, depression_score_binary == 1)
samples %>%
mutate(mean = map(.x = data,
~.x %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>%
ggplot(aes(x = m)) +
geom_histogram(aes(y = ..density..),
binwidth = 1) +
stat_function(fun = dnorm, args = list(mean = mean(full_show$bmi, na.rm = T),
sd = sd(full_show$bmi, na.rm = T)/sqrt(50)),
aes(color = 'n = 50')) +
geom_vline(xintercept = mean(full_show$bmi, na.rm = T),
color = 'red', linetype = 'dashed') +
scale_color_discrete()
samples %>%
mutate(mean = map(.x = data,
~.x %>% group_by(depression) %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>%
print
samples %>%
mutate(mean = map(.x = data,
~.x %>% group_by(depression) %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>%
group_by(depression) %>%
left_join(full_show %>% )
full_show$depression_severity_binary
if_else(full_show$dedepression_severity_binary == 1, 'Depressed', 'Not Depressed')
show
show %>%
group_by(depression) %>%
summarize(m = mean(bmi, na.rm = T),
sd = sd(bmi,na.rm=T))
samples %>%
mutate(mean = map(.x = data,
~.x %>% group_by(depression) %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>%
group_by(depression) %>%
left_join(show %>%
group_by(depression) %>%
summarize(m = mean(bmi, na.rm = T),
sd = sd(bmi,na.rm))) %>% print
samples %>%
mutate(mean = map(.x = data,
~.x %>% group_by(depression) %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>%
group_by(depression) %>%
left_join(show %>%
group_by(depression) %>%
summarize(m = mean(bmi, na.rm = T),
sd = sd(bmi, na.rm = T))) %>% print
samples %>%
mutate(mean = map(.x = data,
~.x %>% group_by(depression) %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>%
group_by(depression) %>%
left_join(show %>%
group_by(depression) %>%
summarize(m = mean(bmi, na.rm = T),
sd = sd(bmi, na.rm = T))) %>% print
show %>%
group_by(depression)
show %>%
group_by(depression) %>%
summarize(m = mean(bmi, na.rm = T),
sd = sd(bmi, na.rm = T))
samples %>%
mutate(mean = map(.x = data,
~.x %>% group_by(depression) %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>%
group_by(depression) %>% print
samples %>%
mutate(mean = map(.x = data,
~.x %>% group_by(depression) %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>%
group_by(depression) %>%
left_join(show %>%
group_by(depression) %>%
summarize(overall_m = mean(bmi, na.rm = T),
sd = sd(bmi, na.rm = T))) %>% print
samples %>%
mutate(mean = map(.x = data,
~.x %>% group_by(depression) %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>%
group_by(depression) %>%
left_join(show %>%
group_by(depression) %>%
summarize(overall_m = mean(bmi, na.rm = T),
sd = sd(bmi, na.rm = T))) %>%
mutate(y = dnorm(x = m, mean = overall_m, sd = sd)) %>%
ggplot(aes(x = m)) +
geom_histogram(aes(y = ..density..),
binwidth = 1) +
geom_line(aes(y = y)) +
facet_grid(~depression)
samples %>%
mutate(mean = map(.x = data,
~.x %>% group_by(depression) %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>%
group_by(depression) %>%
left_join(show %>%
group_by(depression) %>%
summarize(overall_m = mean(bmi, na.rm = T),
sd = sd(bmi, na.rm = T))) %>%
mutate(y = dnorm(x = m, mean = overall_m, sd = sd/sqrt(50))) %>%
ggplot(aes(x = m)) +
geom_histogram(aes(y = ..density..),
binwidth = 1) +
geom_line(aes(y = y)) +
facet_grid(depression~.)
samples %>%
mutate(mean = map(.x = data,
~.x %>% group_by(depression) %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>%
group_by(depression) %>%
left_join(show %>%
group_by(depression) %>%
summarize(overall_m = mean(bmi, na.rm = T),
sd = sd(bmi, na.rm = T))) %>%
mutate(y = dnorm(x = m, mean = overall_m, sd = sd/sqrt(50))) %>%
ggplot(aes(x = m)) +
geom_histogram(aes(y = ..density..),
binwidth = 1, boundary = 0) +
geom_line(aes(y = y)) +
facet_grid(depression~.)
geom_vline(aes(xintercept = overall_m),
color = 'red', linetype = 'dashed') +
scale_color_discrete()
samples %>%
mutate(mean = map(.x = data,
~.x %>% group_by(depression) %>% summarize(m = mean(bmi, na.rm = TRUE)))) %>%
unnest(col = 'mean') %>%
group_by(depression) %>%
left_join(show %>%
group_by(depression) %>%
summarize(overall_m = mean(bmi, na.rm = T),
sd = sd(bmi, na.rm = T))) %>%
mutate(y = dnorm(x = m, mean = overall_m, sd = sd/sqrt(50))) %>%
ggplot(aes(x = m)) +
geom_histogram(aes(y = ..density..),
binwidth = 1, boundary = 0) +
geom_line(aes(y = y)) +
facet_grid(depression~.) +
geom_vline(aes(xintercept = overall_m),
color = 'red', linetype = 'dashed') +
scale_color_discrete()
ggplot(data = tibble(x = 0:50, y = dbinom(x = 0:50, size = 50, prob = 0.106)),
aes(x = x, y = y)) +
geom_bar(stat='identity', width = 1)
ggplot(data = tibble(x = 0:50, y = dbinom(x = 0:50, size = 50, prob = 0.106)),
aes(x = x, y = y)) +
geom_bar(stat='identity', width = 1) +
geom_bar(data = tibble(x = 0:10, y = dbinom(x = 0:10, size = 50, prob = 0.106)),
col = 'red')
ggplot(data = tibble(x = 0:50, y = dbinom(x = 0:50, size = 50, prob = 0.106)),
aes(x = x, y = y)) +
geom_bar(stat='identity', width = 1) +
geom_bar(data = tibble(x = 0:10, y = dbinom(x = 0:10, size = 50, prob = 0.106)),
col = 'red', stat = 'identity')
ggplot(data = tibble(x = 0:50, y = dbinom(x = 0:50, size = 50, prob = 0.106)),
aes(x = x, y = y)) +
geom_bar(stat='identity', width = 1) +
geom_bar(data = tibble(x = 0:10, y = dbinom(x = 0:10, size = 50, prob = 0.106)),
fill = 'red', stat = 'identity')
ggplot(data = tibble(x = 0:50, y = dbinom(x = 0:50, size = 50, prob = 0.106)),
aes(x = x, y = y)) +
geom_bar(stat='identity', width = 1) +
geom_bar(data = tibble(x = 0:10, y = dbinom(x = 0:10, size = 50, prob = 0.106)),
fill = 'red', stat = 'identity', color = 'red')
ggplot(data = tibble(x = 0:50, y = dbinom(x = 0:50, size = 50, prob = 0.106)),
aes(x = x, y = y)) +
geom_bar(stat='identity', width = 1) +
geom_bar(data = tibble(x = 0:10, y = dbinom(x = 0:10, size = 50, prob = 0.106)),
fill = 'red', stat = 'identity', alpha = 0.5)
ggplot(data = tibble(x = 0:50, y = dbinom(x = 0:50, size = 50, prob = 0.106)),
aes(x = x, y = y)) +
geom_bar(stat='identity', width = 1) +
geom_bar(data = tibble(x = 0:10, y = dbinom(x = 0:10, size = 50, prob = 0.106)),
fill = 'red', stat = 'identity', alpha = 0.5, color = 'red')
ggplot(data = tibble(x = 0:50, y = dbinom(x = 0:50, size = 50, prob = 0.106)),
aes(x = x, y = y)) +
geom_bar(stat='identity', width = 1) +
geom_bar(data = tibble(x = 0:10, y = dbinom(x = 0:10, size = 50, prob = 0.106)),
fill = 'red', stat = 'identity', alpha = 0.5, color = NA)
ggplot(data = tibble(x = 11:50, y = dbinom(x = 11:50, size = 50, prob = 0.106)),
aes(x = x, y = y)) +
geom_bar(stat='identity', width = 1) +
geom_bar(data = tibble(x = 0:10, y = dbinom(x = 0:10, size = 50, prob = 0.106)),
fill = 'red', stat = 'identity', alpha = 0.5, color = NA)
ggplot(data = tibble(x = 11:50, y = dbinom(x = 11:50, size = 50, prob = 0.106)),
aes(x = x, y = y)) +
geom_bar(stat='identity', width = 1, center = 0.5) +
geom_bar(data = tibble(x = 0:10, y = dbinom(x = 0:10, size = 50, prob = 0.106)),
fill = 'red', stat = 'identity', alpha = 0.5, color = NA)
ggplot(data = tibble(x = 11:50, y = dbinom(x = 11:50, size = 50, prob = 0.106)),
aes(x = x, y = y)) +
geom_bar(stat='identity', width = 1, center = 0.5) +
geom_bar(data = tibble(x = 0:10, y = dbinom(x = 0:10, size = 50, prob = 0.106)),
fill = 'red', stat = 'identity', alpha = 0.5, color = NA)
pbinom(q = 9, size = 50, prob = 0.106)
ggplot(data = tibble(x = seq(0, 50, 0.1), y = dnorm(x = x, mean = 50*0.106, sd = 0.105*(1-0.106)/sqrt(50))),
aes(x = x, y = y))
ggplot(data = tibble(x = seq(0, 50, 0.1), y = dnorm(x = x, mean = 50*0.106, sd = 0.105*(1-0.106)/sqrt(50))),
aes(x = x, y = y)) %>%
geom_line()
ggplot(data = tibble(x = seq(0, 50, 0.1), y = dnorm(x = x, mean = 50*0.106, sd = 0.105*(1-0.106)/sqrt(50))),
aes(x = x, y = y)) +
geom_line()
ggplot(data = tibble(x = seq(0, 50, 0.1), y = dnorm(x = x, mean = 50*0.106, sd = sqrt(0.105*(1-0.106)/50))),
aes(x = x, y = y)) +
geom_line()
50*0.106
sqrt(0.106*(1-0.106)/50)
ggplot(data = tibble(x = seq(0, 50, 0.1), y = dnorm(x = x, mean = 50*0.106, sd = sqrt(0.106*(1-0.106))/50)),
aes(x = x, y = y)) +
geom_line()
ggplot(data = tibble(x = seq(0, 50, 0.1), y = dnorm(x = x, mean = 50*0.106, sd = sqrt(0.106*(1-0.106)))),
aes(x = x, y = y)) +
geom_line()
ggplot(data = tibble(x = 10:50, y = dbinom(x = 10:50, size = 50, prob = 0.106)),
aes(x = x, y = y)) +
geom_bar(stat='identity', width = 1, center = 0.5) +
geom_bar(data = tibble(x = 0:9, y = dbinom(x = 0:9, size = 50, prob = 0.106)),
fill = 'red', stat = 'identity', alpha = 0.5, color = NA)
tibble(x = seq(0, 50, 0.1), y = dnorm(x = x, mean = 50*0.106, sd = sqrt(0.106*(1-0.106))))
tibble(x = seq(0, 50, 0.1), y = dnorm(x = x, mean = 50*0.106, sd = sqrt(50*0.106*(1-0.106))))
ggplot(data = tibble(x = seq(0, 50, 0.1), y = dnorm(x = x, mean = 50*0.106, sd = sqrt(50*0.106*(1-0.106)))),
aes(x = x, y = y)) +
geom_line()
?geom_area
ggplot(data = tibble(x = seq(0, 50, 0.1), y = dnorm(x = x, mean = 50*0.106, sd = sqrt(50*0.106*(1-0.106)))),
aes(x = x, y = y)) +
geom_line() +
geom_area(aes(x = seq(0, 9, 0.1)))
ggplot(data = tibble(x = seq(0, 50, 0.1), y = dnorm(x = x, mean = 50*0.106, sd = sqrt(50*0.106*(1-0.106)))),
aes(x = x, y = y)) +
geom_line() +
geom_area(data = tibble(x = seq(0, 9, 0.1), y = dnorm(x = x, mean = 50*0.106, sd = sqrt(50*0.106*(1-0.106)))))
round(pnorm(9, mean = 50*0.106, sd = sqrt(50*0.106*(1-0.106))), digits = 2)
round(pbinom(q = 9, size = 50, prob = 0.106), 2)
round(pnorm(9, mean = 50*0.106, sd = sqrt(50*0.106*(1-0.106))), digits = 5)
round(pbinom(q = 9, size = 50, prob = 0.106), 5)
ggplot(data = tibble(x = seq(0, 50, 0.1), y = dnorm(x = x, mean = 50*0.106, sd = sqrt(50*0.106*(1-0.106)))),
aes(x = x, y = y)) +
geom_line() +
geom_area(data = tibble(x = seq(0, 9, 0.1), y = dnorm(x = x, mean = 50*0.106, sd = sqrt(50*0.106*(1-0.106)))))
(6/34)/(13/41)
ggplot(data = sample_means,
aes(x = value, fill = key)) +
geom_histogram(position = 'identity',
alpha = 0.5) +
geom_vline(xintercept = mean(show$income_num, na.rm = T))
income_samples <- map(1:10000,
function(...){
show %>%
filter(!is.na(income), !is.na(county)) %>%
group_by(county) %>%
sample_n(3, replace = F)
})
income_samples_SRS <- map(1:10000,
function(...){
show %>%
filter(!is.na(income), !is.na(county)) %>%
sample_n(189, replace = F)
})
sample_means <- tibble(strat_mean = income_samples %>% map_dbl(~mean(.x$income_num, na.rm =T)),
SRS_mean = income_samples_SRS %>% map_dbl(~mean(.x$income_num, na.rm =T))) %>%
gather()
ggplot(data = sample_means,
aes(x = value, fill = key)) +
geom_histogram(position = 'identity',
alpha = 0.5) +
geom_vline(xintercept = mean(show$income_num, na.rm = T))
income_samples <- map(1:10000,
function(...){
show %>%
filter(!is.na(income), !is.na(county)) %>%
group_by(county) %>%
sample_n(3, replace = F)
})
income_samples <- map(1:10000,
function(...){
show %>%
filter(!is.na(income_num), !is.na(county)) %>%
group_by(county) %>%
sample_n(3, replace = F)
})
income_samples_SRS <- map(1:10000,
function(...){
show %>%
filter(!is.na(income_num), !is.na(county)) %>%
sample_n(189, replace = F)
})
ggplot(data = sample_means,
aes(x = value, fill = key)) +
geom_histogram(position = 'identity',
alpha = 0.5) +
geom_vline(xintercept = mean(show$income_num, na.rm = T))
sample_means <- tibble(strat_mean = income_samples %>% map_dbl(~mean(.x$income_num, na.rm =T)),
SRS_mean = income_samples_SRS %>% map_dbl(~mean(.x$income_num, na.rm =T))) %>%
gather()
ggplot(data = sample_means,
aes(x = value, fill = key)) +
geom_histogram(position = 'identity',
alpha = 0.5) +
geom_vline(xintercept = mean(show$income_num, na.rm = T))
